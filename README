ğŸš€ Informe Final del Proyecto: AutomatizaciÃ³n de Backup y Contingencia de MundoGamer

ğŸ“… Fecha de FinalizaciÃ³n: 05 / Diciembre / 2025
ğŸ‘¨â€ğŸ’» Encargado: Administrador del Sistema (Servi)

1. ğŸ¯ Objetivo General del Proyecto

Implementar un Plan de Contingencia y Mantenimiento Preventivo automatizado para la base de datos mundogamer_db (alojada en XAMPP/Windows), garantizando la Continuidad del Negocio (Disaster Recovery - DR) mediante:

ğŸ“€ Backup diario local automÃ¡tico

ğŸ” Transferencia de contingencia vÃ­a SFTP hacia el servidor remoto
VM AlmaLinux â€“ IP: 192.168.114.126

2. ğŸ“‚ Artefactos Generados

Los siguientes elementos conforman la soluciÃ³n final:

Artefacto	DescripciÃ³n
backup_mundogamer.ps1	Script PowerShell principal para exportaciÃ³n y transferencia.
sftp_commands.txt	Archivo temporal generado automÃ¡ticamente con instrucciones para WinSCP.
Tarea Programada (Windows Task Scheduler)	EjecuciÃ³n diaria del proceso completo.
3. ğŸ› ï¸ DesafÃ­os TÃ©cnicos y Soluciones Implementadas

A continuaciÃ³n se describe el cÃ³mo se construyÃ³ la soluciÃ³n, los problemas encontrados y las decisiones tomadas.

ğŸ”¹ A. EjecuciÃ³n de Scripts (Execution Policy)

DesafÃ­o:
PowerShell bloqueaba la ejecuciÃ³n del script por polÃ­ticas de seguridad.

SoluciÃ³n:
Uso de ExecutionPolicy Bypass dentro del Programador de Tareas:

powershell.exe -ExecutionPolicy Bypass -File C:\Scripts\backup_mundogamer.ps1

ğŸ”¹ B. Manejo de ContraseÃ±as con Caracteres Especiales

DesafÃ­o crÃ­tico:
La contraseÃ±a MiJuego2025! contenÃ­a !, causando fallos en mysqldump.

SoluciÃ³n:
Uso de un Array de Argumentos para evitar el escape involuntario de caracteres:

# DefiniciÃ³n de argumentos como array para manejar caracteres especiales
$dumpArgs = @(
    "--user=$DB_USER";
    "--password=$DB_PASS";
    "--port=$DB_PORT";
    $DB_NAME;
    "-r";
    $BACKUP_PATH
)

# EjecuciÃ³n del comando
& "C:\xampp\mysql\bin\mysqldump.exe" $dumpArgs

ğŸ”¹ C. Transferencia de Contingencia SFTP (WinSCP)

DesafÃ­o:
Ruta incorrecta de WinSCP.com y necesidad de ejecuciÃ³n 100% desatendida.

SoluciÃ³n:
CorrecciÃ³n de ruta + uso de archivo temporal de comandos:

# Ruta y parÃ¡metros
$WINSCP_PATH = "C:\Program Files (x86)\WinSCP\WinSCP.com"
$SERVER_IP   = "192.168.114.126"
$SFTP_USER   = "admin_sftp"
$SFTP_PASS   = "la_contraseÃ±a_guardada"  # Almacenada de forma segura


Contenido del sftp_commands.txt:

open sftp://admin_sftp:contraseÃ±a@192.168.114.126
put "C:\Scripts\MundoGamer_Backups\nombre_archivo.sql" /backups/
exit


EjecuciÃ³n:

& $WINSCP_PATH /script="C:\Scripts\sftp_commands.txt" /log="C:\Scripts\winscp.log"

4. âš™ï¸ ConfiguraciÃ³n Final en el Programador de Tareas

La automatizaciÃ³n quedÃ³ configurada con la siguiente estructura:

ConfiguraciÃ³n	Valor
Tarea Programada	MundoGamer - Backup Diario
Programa/Script	powershell.exe
Argumentos	-ExecutionPolicy Bypass -File C:\Scripts\backup_mundogamer.ps1
Iniciar en	C:\Scripts
Frecuencia	Diario (ej. 22:00 PM)
Resultado	0x0 (Ã‰xito) â€” Verificado âœ”ï¸
5. ğŸ ConclusiÃ³n

El proyecto se completÃ³ con Ã©xito.
El sistema de backup implementado es estable, seguro y automÃ¡tico, resolviendo:

Problemas de ejecuciÃ³n de PowerShell

Manejo correcto de contraseÃ±as con caracteres especiales

Transferencias SFTP automatizadas al servidor AlmaLinux

GarantÃ­a de copias de seguridad diarias

La infraestructura actualmente ya realiza respaldos diarios locales y remotos, asegurando protecciÃ³n ante fallos del sistema y continuidad operativa para MundoGamer.